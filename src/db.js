import { MongoClient } from 'mongodb';import dotenv from 'dotenv';dotenv.config();const client=new MongoClient(process.env.MONGODB_URI||'',{maxPoolSize:10});let db;export async function connectDB(){if(!db){if(!process.env.MONGODB_URI)throw new Error('MONGODB_URI not set');await client.connect();db=client.db(process.env.DB_NAME||'week5mvp');await db.command({ping:1});}return db;}export function collections(db){return{customers:db.collection('customers'),products:db.collection('products'),orders:db.collection('orders'),metrics:db.collection('metrics')};}