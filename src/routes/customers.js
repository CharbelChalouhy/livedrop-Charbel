import { Router } from 'express';import { connectDB, collections } from '../db.js';const router=Router();router.get('/',async(req,res)=>{try{const email=(req.query.email||'').toLowerCase();if(!email)return res.status(400).json({error:'email_required'});const db=await connectDB();const{customers}=collections(db);const doc=await customers.findOne({email});if(!doc)return res.status(404).json({error:'not_found'});res.json(doc);}catch(e){res.status(500).json({error:'server_error',details:e.message});}});export default router;