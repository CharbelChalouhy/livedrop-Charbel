import { connectDB, collections } from '../src/db.js';const cats=['Audio','Accessories','Gaming','Home','Fitness'];function product(i){return{_id:crypto.randomUUID(),name:`Item ${i}`,description:'Solid item',price:+(Math.random()*495+5).toFixed(2),category:cats[i%cats.length],tags:['demo'],imageUrl:'https://picsum.photos/seed/'+i+'/600/400',stock:10+Math.floor(Math.random()*50),createdAt:new Date()};}function customer(i,email){return{_id:crypto.randomUUID(),name:`User ${i}`,email:(email||`demo${i}@example.com`).toLowerCase(),phone:'+961 70 123456',address:'Beirut',createdAt:new Date()};}function order(cid,items){const total=items.reduce((s,it)=>s+it.price*it.quantity,0);return{_id:crypto.randomUUID(),customerId:cid,items,total,status:['PENDING','PROCESSING','SHIPPED','DELIVERED'][Math.floor(Math.random()*4)],carrier:'FastShip',estimatedDelivery:new Date(Date.now()+5*86400000),createdAt:new Date(),updatedAt:new Date()};}(async()=>{const db=await connectDB();const { customers,products,orders }=collections(db);await customers.deleteMany({});await products.deleteMany({});await orders.deleteMany({});const prods=Array.from({length:24},(_,i)=>product(i+1));await products.insertMany(prods);const list=Array.from({length:11},(_,i)=>customer(i+1));list[0]=customer(0,'demo@example.com');await customers.insertMany(list);const pick=a=>a[Math.floor(Math.random()*a.length)];const items=()=>[{productId:pick(prods)._id,name:pick(prods).name,price:pick(prods).price,quantity:1}];await orders.insertMany([order(list[0]._id,items()),order(list[0]._id,items()),order(list[1]._id,items())]);console.log('Seed complete');process.exit(0);})()